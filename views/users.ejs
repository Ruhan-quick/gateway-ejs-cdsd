<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= title%></title>
    <link rel="stylesheet" href="./Styles/index.css" />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
      integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
      integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
      crossorigin="anonymous"
    ></script>
</head>
<body>
<div class="container">
    <button onclick="goHome()" class="home btn btn-success my-3" id="home">Add User</button>

    <div class="row">
        
        <% data.forEach(el => {%>
           <div class="col-sm-12 col-md-5 col-lg-3 card m-4">
           <h3><%= el.name %></h3>
           <p><%= el.email %></p>
           <p><%= el.description %></p>
           <img src=<%= el.imgurl %> alt="Image">
           <span > 
           <button onclick="deleteCorrespond('<%= el.id  %>')" id=<%= el.id  %> class="btn btn-danger my-2 mr-1"> Delete</button> </span>
        </div>
        <%})%>

        </div>
    </div>

</div>
<script>
const deleteCorrespond = (e) =>{
    fetch(`http://localhost:3000/delete/${e}`)
    .then(res => {
        console.log('Del')
        window.location.href = 'http://localhost:3000/users';
    }
    )}
    
const goHome = () =>{
    window.location.replace("http://localhost:3000/");
        
    
} 
</script>
<!-- 
<div id="udivx" class="container row"></div>
<div>
    
    <ul id="ulist">
        
    </ul>
</div> -->
</body>
<!-- <script>
    fetch('http://localhost:3000/getall')
    .then(res => res.json())
    .then(dat => {
        console.log(dat);
        data=dat.data;





        data.forEach(el => {
        const node = document.createElement("div");
        node.className = 'col-lg-4';
        const nameT = document.createElement('h1');
        const name = document.createTextNode(el.name);
        nameT.appendChild(name)
        node.appendChild(nameT);

        ax = document.getElementById("udivx");
        console.log(ax)
        ax.appendChild(node)

        //document.getElementById('ulist').appendChild = `<li> ${el.name}</li>`;
    });
    })
    
    

  </script> -->
</html>